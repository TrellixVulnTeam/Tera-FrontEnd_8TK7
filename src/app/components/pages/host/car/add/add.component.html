<app-sidemenu></app-sidemenu>

<!-- Start Main Content Wrapper Area -->
<div class="main-content d-flex flex-column">

    <app-navbar></app-navbar>

    <!-- Breadcrumb Area -->
    <div class="breadcrumb-area" *ngFor="let Content of breadcrumb;">
        <h1>{{Content.title}}</h1>
        <ol class="breadcrumb">
            <li class="item"><a routerLink="/">Home</a></li>
            <li class="item"><a routerLink="dashboard">{{Content.subTitle}}</a></li>
            <li class="item">{{Content.title}}</li>
        </ol>
    </div>
    <!-- End Breadcrumb Area -->

    <!-- Start -->
    <form [formGroup]="CarForm" (ngSubmit)="create()">
    <div class="add-listings-box">
      <p-toast></p-toast>
        <h3>Basic Informations</h3>

        <div class="row">

          <div class="col-lg-6 col-md-6">
            <div class="form-group">
                <label><i class='bx bx-briefcase-alt'></i> Matricule</label>
                <input type="text" class="form-control" formControlName="matricule" placeholder="matricule">
            </div>
        </div>

            <div class="col-lg-6 col-md-6">
                <div class="form-group">
                    <label><i class='bx bx-briefcase-alt'></i> Kilométre</label>
                    <input type="number" class="form-control" formControlName="km" placeholder="Km">
                </div>
            </div>

            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                  <label><i class='bx bx-duplicate'></i> Marque voiture </label>
                  <select formControlName="model" (change)="selectMake($event)">
                      <option>Select Marque</option>
                      <option  *ngFor="let m of makes" value={{m.id}} name="Make" [(ngModel)]="selectedMake" > {{m.name}}</option>

                  </select>


              </div>
          </div>

            <div class="col-lg-6 col-md-6">
                <div class="form-group">
                    <label><i class='bx bx-duplicate'></i> Model de voiture </label>
                    <select formControlName="model_id" (change)="select($event)">
                        <option>Select Model</option>
                        <option  *ngFor="let m of models" value={{m.id}} name="Model" [(ngModel)]="selectedModel" formControlName="model_id" > {{m.name}}</option>

                    </select>


                </div>
            </div>




            <div class="col-lg-6 col-md-6">
                <div class="form-group">
                    <label><i class='bx bxs-key'></i> Type:</label>
                    <input   disabled type="text" class="form-control" [(ngModel)]="Model.type" value= {{Model.type}}    >
                </div>
            </div>


            <div class="col-lg-6 col-md-6">
              <div class="form-group">
                  <label><i class='bx bxs-key'></i> Année:</label>
                  <input disabled type="text" class="form-control" [(ngModel)]="Model.year" value= {{Model.year}} >
              </div>
          </div>
        </div>
    </div>

    <div class="add-listings-box">
        <h3>Location</h3>

        <div class="row">


            <div class="col-lg-12 col-md-12">
                <div class="form-group">
                    <label><i class='bx bx-menu-alt-left'></i> Address:</label>
                    <input type="text" formControlName="location" class="form-control" placeholder="e.g. 55 County Laois">
                </div>
            </div>


        </div>
    </div>

    <div class="add-listings-box pb-3">
        <h3>Gallery</h3>

        <p-toast></p-toast>

     <p-fileUpload name="galleries[]" url="http://127.0.0.1:8000/api/gallerie" (onUpload)="onUpload($event)"
            multiple="multiple" accept="image/*" maxFileSize="10000000">
            <ng-template pTemplate="content">
                <ul *ngIf="Files.length">
                    <li *ngFor="let file of Files">{{file.name}} - {{file.size}} bytes</li>
                </ul>
            </ng-template>
    </p-fileUpload>
        <!--<div class="file-upload-box">
          <form action="http://127.0.0.1:8000/api/gallerie"  class="dropzone">

            <div class="previews"></div>



          </form>
      </div>-->
    </div>

    <div class="add-listings-box pb-3">
    <div class="file-upload-box">
     <!-- <ngx-dropzone (change)="onSelect($event)">

        <ngx-dropzone-label>Drop files here to upload</ngx-dropzone-label>

        <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">

          <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>

        </ngx-dropzone-preview>

      </ngx-dropzone>
-->



    <!--<h5>Basic</h5>
    <p-fileUpload mode="basic" name="demo[]" url="./upload.php" accept="image/*" maxFileSize="1000000" (onUpload)="onUpload($event)"></p-fileUpload>

    <h5>Basic with Auto</h5>
    <p-fileUpload #fubauto mode="basic" name="demo[]" url="./upload.php" accept="image/*" maxFileSize="1000000" (onUpload)="onUpload($event)" [auto]="true" chooseLabel="Browse"></p-fileUpload>-->

    </div>
    </div>



    <div class="add-listings-box">
        <h3>Details</h3>

        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div class="form-group">
                    <label><i class='bx bx-text'></i> Description:</label>
                    <textarea cols="30" rows="7" class="form-control" placeholder="Details..."></textarea>
                </div>
            </div>


        </div>
    </div>

    <div class="add-listings-box">
        <h3>Options</h3>

        <div class="form-group">
            <ul class="facilities-list">
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="option" value="Transmission automatique" checked>
                        <span>Transmission automatique</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="option" value="Android Auto">
                        <span>Android Auto</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="option" value="Apple CarPlay" checked>
                        <span>Apple CarPlay</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="option" value="Caméra de recul">
                        <span>Caméra de recul</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="options" value="Porte-vélos" formControlName="options" checked>
                        <span>Porte-vélos</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="options" value="Bluetooth" formControlName="options">
                        <span>Bluetooth</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="options" value="Sièges pour enfants"formControlName="options">
                        <span> Sièges pour enfants</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" name="options" value="Décapotable"formControlName="options">
                        <span>Décapotable</span>
                    </label>
                </li>

                <li>
                  <label class="checkbox">
                      <input type="checkbox" name="options" value="Sièges chauffants"formControlName="options">
                      <span> Sièges chauffants</span>
                  </label>
              </li>

              <li>
                <label class="checkbox">
                    <input type="checkbox" name="options" value="Longue durée"formControlName="options">
                    <span> Longue durée</span>
                </label>
            </li>

            <li>
              <label class="checkbox">
                  <input type="checkbox" name="options" value="Toit ouvrant"formControlName="options">
                  <span> Toit ouvrant</span>
              </label>
          </li>

          <li>
            <label class="checkbox">
                <input type="checkbox" name="options" value="Chargeur USB"formControlName="options">
                <span> Chargeur USB</span>
            </label>
        </li>

        <li>
          <label class="checkbox">
              <input type="checkbox" name="options" value="Port USB"formControlName="options">
              <span> Port USB</span>
          </label>
      </li>


      <li>
        <label class="checkbox">
            <input type="checkbox" name="options" value="2WD to 4WD lever"formControlName="options">
            <span> 2WD to 4WD lever</span>
        </label>
    </li>


    <li>
      <label class="checkbox">
          <input type="checkbox" name="options" value="Factory subwoofer" formControlName="options">
          <span> Factory subwoofer</span>
      </label>
  </li>

  <li>
    <label class="checkbox">
        <input type="checkbox" name="options" value="Alloy wheels" formControlName="options">
        <span> Alloy wheels</span>
    </label>
</li>

            </ul>
        </div>
    </div>



    <div class="add-listings-box">
        <h3>Prix</h3>

        <div class="form-group">
           <!-- <label><i class='bx bx-purchase-tag'></i> Pricing:</label>-->
            <div class="row">
               <div class="col-6">
                <label><i class='bx bx-purchase-tag'></i> Horaire: {{val}}</label>

                <input type="number" class="form-control" placeholder="$42.00" formControlName="Price_H">
               <!--  <p-slider [(ngModel)]="val"></p-slider>-->
               <br>
                </div>

                <div class="col-6">
                 <label><i class='bx bx-purchase-tag'></i> Journalié:</label>
                 <input type="number" class="form-control" placeholder="$32.00" formControlName="Price_D" ></div>
                <br>
                </div>


        </div>
    </div>


    <div class="add-listings-btn">
        <button type="submit">Ajouter Vehicule</button> <br>


    </div>
  </form>
    <!-- End -->

    <div class="flex-grow-1"></div>

    <app-copyrights></app-copyrights>

</div>
<!-- End Main Content Wrapper Area -->
